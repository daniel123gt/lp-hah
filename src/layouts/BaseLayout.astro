---
import { ClientRouter } from "astro:transitions";
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ButtonWhat from "../components/atom/ButtonWhat.astro";
import ButtonCall from "../components/atom/ButtonCall.astro";

// Props para SEO
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  url?: string;
  type?: string;
}

const { 
  title = "Health At Home - Servicios Médicos y Cuidados a Domicilio en Lima",
  description = "Servicios profesionales de enfermería, médicos, laboratorios y equipos médicos a domicilio en Lima. Atención 24/7 con personal calificado y equipamiento de última generación.",
  image = "/images/og-image.jpg",
  url = "https://daniel123gt.github.io",
  type = "website"
} = Astro.props;
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO Meta Tags -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="enfermería a domicilio, médicos a domicilio, laboratorio a domicilio, cuidados en casa, Lima, Perú, salud domiciliaria, equipos médicos" />
    <meta name="author" content="Health At Home" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href={url} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={type} />
    <meta property="og:url" content={url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />
    <meta property="og:site_name" content="Health At Home" />
    <meta property="og:locale" content="es_PE" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/fonts/poppins.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/images/hero/hero1.webp" as="image" />
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//api.whatsapp.com" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalBusiness",
      "name": "Health At Home",
      "description": "Servicios médicos y cuidados a domicilio en Lima, Perú",
      "url": "https://daniel123gt.github.io",
      "telephone": "+51-961-853-894",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Lima",
        "addressCountry": "PE"
      },
      "serviceArea": {
        "@type": "City",
        "name": "Lima"
      },
      "medicalSpecialty": [
        "Enfermería a Domicilio",
        "Médicos a Domicilio",
        "Laboratorio a Domicilio",
        "Equipos Médicos"
      ],
      "availableLanguage": "es"
    }
    </script>
    
    <ClientRouter/>
  </head>
  <body class="md:grid grid-rows-[auto 1fr auto]">
    <!-- Skip Navigation for Accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary-blue text-white px-4 py-2 rounded z-50">
      Saltar al contenido principal
    </a>
    
    <Header />
    <main id="main-content" role="main">
      <slot />
    </main>
    <Footer />
    <ButtonWhat/>
    <ButtonCall/>
  </body>
</html>
